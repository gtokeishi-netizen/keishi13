/**
 * Final UI Fixes - Joseikin Insight
 * 最終UI修正 - チャットエリア、検索結果、アイコン統一
 * 
 * User Requests:
 * 1. チャット入力エリアを小さくしてメッセージ表示エリアを確保
 * 2. 検索結果が見つかりません部分を白黒デザインに
 * 3. 「こちらのキーワードで検索してみませんか？」を削除
 * 4. 検索ヒントのアイコンを白黒に（絵文字禁止）
 * 5. 「AIアシスタントに相談する」を削除
 * 6. 「表示切り替え」をアイコンに変更
 * 7. 「詳細を見る」ボタンの文字を白に
 * 8. カテゴリーフィルターにアイコン追加
 * 9. 全サイトでモノクロアイコンを復活
 * 
 * @version 1.0.0
 * @date 2025-10-05
 */

/* ============================================================
   PRIORITY FIX #1: CHAT INPUT AREA SIZE REDUCTION
   チャット入力エリアのサイズ縮小
   ============================================================ */

/* Chat input area - significantly reduce size */
.chat-input-area {
    padding: 8px 12px !important; /* Reduced from 14px */
    min-height: 52px !important; /* Reduced from 72px */
    gap: 8px !important;
}

/* Chat input - smaller but still usable */
.chat-input {
    padding: 8px 12px !important; /* Reduced from 12px 14px */
    font-size: 15px !important; /* Slightly smaller */
    min-height: 36px !important; /* Reduced from 44px */
    max-height: 80px !important; /* Reduced from 120px */
}

/* Chat send button - much smaller */
.chat-send-btn {
    height: 36px !important; /* Reduced from 44px */
    min-width: 60px !important; /* Reduced from 80px */
    padding: 0 14px !important; /* Reduced from 20px */
    font-size: 14px !important; /* Reduced from 16px */
}

/* Quick questions - smaller spacing */
.quick-questions {
    padding: 8px 12px !important; /* Reduced from 12px 14px */
    gap: 6px !important; /* Reduced from 8px */
}

.quick-q {
    padding: 6px 10px !important; /* Reduced from 8px 14px */
    font-size: 13px !important; /* Reduced from 14px */
}

/* Chat messages - maximize display area */
.chat-messages {
    flex: 1 1 auto !important;
    padding: 16px 14px !important; /* Optimized */
    gap: 12px !important;
    overflow-y: auto !important;
    min-height: 0 !important;
}

/* Message bubbles - keep font size but optimize padding */
.message-bubble {
    padding: 14px 16px !important; /* Reduced from 18px 20px */
    font-size: 18px !important; /* Keep large for readability */
    line-height: 1.6 !important; /* Slightly tighter */
    min-height: 60px !important; /* Reduced from 70px */
}

/* Mobile chat optimizations */
@media (max-width: 768px) {
    .chat-input-area {
        padding: 6px 10px !important;
        min-height: 48px !important;
    }
    
    .chat-input {
        padding: 7px 10px !important;
        font-size: 16px !important; /* iOS requirement */
        min-height: 34px !important;
    }
    
    .chat-send-btn {
        height: 34px !important;
        min-width: 50px !important;
        padding: 0 12px !important;
        font-size: 13px !important;
    }
    
    .message-bubble {
        padding: 12px 14px !important;
        font-size: 18px !important; /* Keep large on mobile */
    }
}

/* ============================================================
   PRIORITY FIX #2: SEARCH NO RESULTS - BLACK/WHITE THEME
   検索結果なしセクションの白黒デザイン
   ============================================================ */

/* No results container */
.no-results-container,
.search-no-results,
[class*="no-results"] {
    background: #ffffff !important;
    color: #000000 !important;
    border: 2px solid #000000 !important;
    padding: 40px 20px !important;
    border-radius: 12px !important;
    text-align: center !important;
}

/* No results heading */
.no-results-container h3,
.search-no-results h3,
.no-results-heading {
    color: #000000 !important;
    font-size: 20px !important;
    font-weight: 700 !important;
    margin-bottom: 16px !important;
}

/* No results message */
.no-results-container p,
.search-no-results p,
.no-results-message {
    color: #000000 !important;
    font-size: 16px !important;
    line-height: 1.6 !important;
    margin-bottom: 24px !important;
}

/* No results icon */
.no-results-icon {
    font-size: 48px !important;
    color: #000000 !important;
    margin-bottom: 20px !important;
}

/* ============================================================
   PRIORITY FIX #3: REMOVE "こちらのキーワードで検索してみませんか？"
   キーワード提案テキストの削除
   ============================================================ */

/* Hide keyword suggestion text */
.keyword-suggestion-text,
[class*="keyword-text"],
.suggestion-heading {
    display: none !important;
}

/* Alternative: Replace with icon only */
.keyword-suggestion::before {
    content: "🔍" !important;
    font-size: 24px !important;
    margin-right: 12px !important;
    display: inline-block !important;
}

/* ============================================================
   PRIORITY FIX #4: SEARCH HINTS - MONOCHROME ICONS
   検索ヒントのモノクロアイコン化
   ============================================================ */

/* Search hints container */
.search-hints,
.search-suggestions {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 10px !important;
    margin-top: 24px !important;
}

/* Search hint items - with monochrome icons */
.search-hint-item,
.suggestion-tag {
    display: inline-flex !important;
    align-items: center !important;
    gap: 8px !important;
    padding: 10px 16px !important;
    background: #ffffff !important;
    color: #000000 !important;
    border: 2px solid #000000 !important;
    border-radius: 8px !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
}

.search-hint-item:hover,
.suggestion-tag:hover {
    background: #000000 !important;
    color: #ffffff !important;
}

/* Replace emoji with FontAwesome icons */
.search-hint-item::before,
.suggestion-tag::before {
    font-family: "Font Awesome 6 Free" !important;
    font-weight: 900 !important;
    font-size: 16px !important;
}

/* Specific icon mappings */
.search-hint-item[data-type="category"]::before {
    content: "\f07b" !important; /* folder icon */
}

.search-hint-item[data-type="location"]::before {
    content: "\f3c5" !important; /* map-marker icon */
}

.search-hint-item[data-type="amount"]::before {
    content: "\f155" !important; /* yen icon */
}

.search-hint-item[data-type="deadline"]::before {
    content: "\f073" !important; /* calendar icon */
}

.search-hint-item[data-type="popular"]::before {
    content: "\f005" !important; /* star icon */
}

/* ============================================================
   PRIORITY FIX #5: REMOVE "AIアシスタントに相談する" BUTTON
   AIアシスタント相談ボタンの削除
   ============================================================ */

/* Hide AI assistant consultation button */
.ai-consult-button,
.consult-ai-btn,
[class*="ai-consult"],
button[class*="consult-ai"] {
    display: none !important;
}

/* Also hide any related containers */
.ai-consult-section,
.consult-section {
    display: none !important;
}

/* ============================================================
   PRIORITY FIX #6: VIEW TOGGLE - TEXT TO ICON
   表示切り替えをアイコンに変更
   ============================================================ */

/* View toggle buttons - icon only */
.view-toggle-btn,
.display-toggle-btn,
[class*="view-toggle"] {
    min-width: 44px !important;
    width: 44px !important;
    height: 44px !important;
    padding: 0 !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    background: #ffffff !important;
    border: 2px solid #000000 !important;
    border-radius: 8px !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
}

.view-toggle-btn:hover,
.display-toggle-btn:hover {
    background: #000000 !important;
    color: #ffffff !important;
}

/* Hide text, show icon only */
.view-toggle-btn span:not(.icon),
.display-toggle-btn span:not(.icon) {
    display: none !important;
}

/* Grid view icon */
.view-toggle-btn.grid-view::before,
button[data-view="grid"]::before {
    content: "\f00a" !important; /* th icon - grid */
    font-family: "Font Awesome 6 Free" !important;
    font-weight: 900 !important;
    font-size: 18px !important;
}

/* List view icon */
.view-toggle-btn.list-view::before,
button[data-view="list"]::before {
    content: "\f0c9" !important; /* bars icon - list */
    font-family: "Font Awesome 6 Free" !important;
    font-weight: 900 !important;
    font-size: 18px !important;
}

/* ============================================================
   PRIORITY FIX #7: GRANT DETAIL BUTTON - WHITE TEXT
   詳細を見るボタンの白文字化
   ============================================================ */

/* Grant detail buttons */
.grant-btn,
.grant-btn--primary,
.grant-detail-btn,
a[class*="grant-btn"] {
    background: #000000 !important;
    color: #ffffff !important;
    border: 2px solid #000000 !important;
    padding: 14px 28px !important;
    border-radius: 8px !important;
    font-size: 16px !important;
    font-weight: 700 !important;
    text-decoration: none !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 8px !important;
    transition: all 0.2s ease !important;
}

.grant-btn:hover,
.grant-btn--primary:hover,
.grant-detail-btn:hover {
    background: #2d2d2d !important;
    color: #ffffff !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2) !important;
}

/* Ensure text inside button is white */
.grant-btn span,
.grant-btn--primary span,
.grant-detail-btn span {
    color: #ffffff !important;
}

/* Add icon to detail button */
.grant-btn::after,
.grant-btn--primary::after {
    content: "\f061" !important; /* arrow-right icon */
    font-family: "Font Awesome 6 Free" !important;
    font-weight: 900 !important;
    font-size: 14px !important;
    margin-left: 4px !important;
}

/* ============================================================
   PRIORITY FIX #8: CATEGORY FILTERS - ADD ICONS
   カテゴリーフィルターにアイコン追加
   ============================================================ */

/* Category filter buttons - with icons */
.category-filter-btn,
.filter-category-btn,
[class*="category-filter"] {
    display: inline-flex !important;
    align-items: center !important;
    gap: 10px !important;
    padding: 12px 20px !important;
    background: #ffffff !important;
    color: #000000 !important;
    border: 2px solid #000000 !important;
    border-radius: 10px !important;
    font-size: 15px !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
}

.category-filter-btn:hover,
.category-filter-btn.active {
    background: #000000 !important;
    color: #ffffff !important;
}

/* Add icons before category text */
.category-filter-btn::before {
    font-family: "Font Awesome 6 Free" !important;
    font-weight: 900 !important;
    font-size: 18px !important;
}

/* Specific category icons */
.category-filter-btn[data-category*="IT"]::before,
.category-filter-btn[data-category*="デジタル"]::before {
    content: "\f109" !important; /* laptop-code icon */
}

.category-filter-btn[data-category*="製造"]::before,
.category-filter-btn[data-category*="ものづくり"]::before {
    content: "\f275" !important; /* industry icon */
}

.category-filter-btn[data-category*="創業"]::before,
.category-filter-btn[data-category*="スタートアップ"]::before {
    content: "\f135" !important; /* rocket icon */
}

.category-filter-btn[data-category*="小規模"]::before,
.category-filter-btn[data-category*="商業"]::before {
    content: "\f54e" !important; /* store icon */
}

.category-filter-btn[data-category*="環境"]::before,
.category-filter-btn[data-category*="省エネ"]::before {
    content: "\f4d8" !important; /* leaf icon */
}

.category-filter-btn[data-category*="人材"]::before,
.category-filter-btn[data-category*="雇用"]::before {
    content: "\f0c0" !important; /* users icon */
}

/* Default icon for unmatched categories */
.category-filter-btn:not([data-category])::before {
    content: "\f07b" !important; /* folder icon */
}

/* ============================================================
   PRIORITY FIX #9: RESTORE MONOCHROME ICONS SITE-WIDE
   全サイトでモノクロアイコンの復活
   ============================================================ */

/* Global icon styling - monochrome black/white */
.icon,
i[class*="fa-"],
.fas,
.far,
.fal,
.fab,
[class^="icon-"],
svg.icon {
    color: inherit !important;
    fill: currentColor !important;
    transition: color 0.2s ease !important;
}

/* Icons on white backgrounds */
.bg-white .icon,
.bg-white i[class*="fa-"],
.card .icon,
.card i[class*="fa-"] {
    color: #000000 !important;
}

/* Icons on black backgrounds */
.bg-black .icon,
.bg-black i[class*="fa-"],
.btn-primary .icon,
.btn-primary i[class*="fa-"] {
    color: #ffffff !important;
}

/* Category icons - monochrome styling */
.category-icon,
.grant-category-icon {
    width: 48px !important;
    height: 48px !important;
    background: #000000 !important;
    color: #ffffff !important;
    border-radius: 12px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 24px !important;
}

.category-icon i,
.grant-category-icon i {
    color: #ffffff !important;
}

/* Header icons */
.site-header .icon,
.main-navigation .icon {
    color: #000000 !important;
    font-size: 20px !important;
}

/* Footer icons */
.site-footer .icon {
    color: #000000 !important;
    font-size: 18px !important;
}

/* Search icons */
.search-icon,
.search-btn .icon {
    color: #000000 !important;
    font-size: 20px !important;
}

/* Filter icons */
.filter-icon,
.filter-btn .icon {
    color: #000000 !important;
    font-size: 18px !important;
}

/* Grant card icons */
.grant-card .icon {
    color: #000000 !important;
    font-size: 16px !important;
}

/* ============================================================
   ADDITIONAL MONOCHROME COMPONENTS
   追加のモノクロコンポーネント
   ============================================================ */

/* Badge icons */
.badge .icon,
.tag .icon {
    color: #ffffff !important;
    margin-right: 6px !important;
}

/* Alert icons */
.alert .icon {
    font-size: 24px !important;
    margin-right: 12px !important;
}

.alert.success .icon {
    color: #ffffff !important;
}

.alert.error .icon {
    color: #ffffff !important;
}

.alert.warning .icon {
    color: #000000 !important;
}

/* Status icons */
.status-icon {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 32px !important;
    height: 32px !important;
    background: #000000 !important;
    color: #ffffff !important;
    border-radius: 50% !important;
}

/* Navigation arrows */
.nav-arrow,
.arrow-icon {
    font-size: 20px !important;
    color: #000000 !important;
}

.nav-arrow:hover,
.arrow-icon:hover {
    color: #666666 !important;
}

/* Social icons */
.social-icon {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 40px !important;
    height: 40px !important;
    background: #000000 !important;
    color: #ffffff !important;
    border-radius: 50% !important;
    transition: all 0.2s ease !important;
}

.social-icon:hover {
    background: #2d2d2d !important;
    transform: translateY(-2px) !important;
}

/* ============================================================
   MOBILE RESPONSIVE ADJUSTMENTS
   モバイル対応調整
   ============================================================ */

@media (max-width: 768px) {
    /* Category icons smaller on mobile */
    .category-icon,
    .grant-category-icon {
        width: 40px !important;
        height: 40px !important;
        font-size: 20px !important;
    }
    
    /* Filter buttons optimized for mobile */
    .category-filter-btn {
        padding: 10px 16px !important;
        font-size: 14px !important;
    }
    
    .category-filter-btn::before {
        font-size: 16px !important;
    }
    
    /* Search hints smaller on mobile */
    .search-hint-item,
    .suggestion-tag {
        padding: 8px 12px !important;
        font-size: 13px !important;
    }
    
    /* Grant buttons full width on mobile */
    .grant-btn,
    .grant-btn--primary {
        width: 100% !important;
        justify-content: center !important;
    }
}

/* ============================================================
   ACCESSIBILITY ENHANCEMENTS
   アクセシビリティ強化
   ============================================================ */

/* Icon focus states */
.icon:focus,
i[class*="fa-"]:focus {
    outline: 3px solid #000000 !important;
    outline-offset: 2px !important;
}

/* Button icon alignment */
button .icon,
a .icon {
    vertical-align: middle !important;
}

/* Icon loading states */
.icon.loading {
    animation: spin 1s linear infinite !important;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* ============================================================
   END OF FINAL UI FIXES
   ============================================================ */
